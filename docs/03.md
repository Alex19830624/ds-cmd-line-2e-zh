# 前言

> 原文:[https://datascienceatthecommandline.com/2e/preface.html](https://datascienceatthecommandline.com/2e/preface.html)

数据科学是一个令人兴奋的工作领域。也还是比较年轻的。不幸的是，许多人和许多公司都认为，你需要新技术来解决数据科学带来的问题。然而，正如这本书所展示的，许多事情可以通过使用命令行来完成，有时是一种更有效的方式。

读博士期间，我逐渐从使用微软 Windows 转向使用 Linux。因为这种转换一开始有点吓人，所以我开始将两个操作系统安装在一起(称为双重引导)。在 Microsoft Windows 和 Linux 之间来回切换的冲动最终消退了，在某个时候，我甚至在摆弄 Arch Linux，它允许您从头开始构建自己的定制 Linux 机器。您得到的只是命令行，如何使用它取决于您自己。出于需要，我很快变得非常习惯使用命令行。最终，随着空闲时间变得越来越宝贵，我选择了一个名为 Ubuntu 的 Linux 发行版，因为它易于使用，而且有很大的社区。然而，命令行仍然是我花费大部分时间的地方。

事实上，就在不久前，我意识到命令行不仅仅是用来安装软件、配置系统和搜索文件的。我开始学习诸如`cut`、`sort`和`sed`之类的工具。这些是命令行工具的例子，它们将数据作为输入，对其进行处理，并打印结果。Ubuntu 自带了不少。一旦我理解了结合这些小工具的潜力，我就被吸引住了。

在获得博士学位后，当我成为一名数据科学家时，我想尽可能多地使用这种方法来做数据科学。多亏了一些新的开源命令行工具，包括`xml2json`、`jq`和`json2csv`，我甚至能够使用命令行来完成抓取网站和处理大量 JSON 数据等任务。

2013 年 9 月，我决定写一篇名为[数据科学的七个命令行工具](http://www.jeroenjanssens.com/2013/09/19/seven-command-line-tools-for-data-science.html)的博文。令我惊讶的是，这篇博文引起了相当多的关注，我收到了很多关于其他命令行工具的建议。我开始想这篇博文是否可以被改编成一本书。我很高兴，大约 10 个月后，在许多有才华的人的帮助下(见致谢)，答案是肯定的。

我分享这个个人故事并不是因为我认为你应该知道这本书是怎么来的，而是因为我想让你知道我也必须学习命令行。因为命令行与使用图形用户界面有很大的不同，所以一开始看起来很吓人。但如果我能学会，那你也能。不管你当前的操作系统是什么，也不管你当前如何处理数据，读完这本书后，你将能够在命令行上进行数据科学。如果您已经熟悉了命令行，或者即使您已经在 shell 脚本中做梦了，您仍然有机会发现一些有趣的技巧或命令行工具，用于您的下一个数据科学项目。

## 对这本书有什么期待

在本书中，我们将获取、清理、探索和建模大量数据。这本书不是关于如何在那些数据科学任务上变得更好。已经有很好的资源可以讨论，例如，何时应用哪种统计测试，或者如何最好地可视化数据。相反，这本实用的书旨在通过教你如何在命令行执行那些数据科学任务，让你变得更加*高效*和*高效*。

虽然这本书讨论了 90 多种命令行工具，但最重要的不是工具本身。一些命令行工具已经存在了很长时间，而另一些将被更好的工具所取代。就在您阅读本文的时候，新的命令行工具正在诞生。这些年来，我发现了许多令人惊奇的命令行工具。不幸的是，其中一些发现得太晚，没有收入书中。简而言之，命令行工具来来去去。但是没关系。

最重要的是使用工具、管道和数据的基本思想。大多数命令行工具只做一件事，而且做得很好。这是 Unix 哲学的一部分，在整本书中多次出现。一旦您熟悉了命令行，知道如何组合命令行工具，甚至可以创建新的命令行工具，您就已经发展了一项无价的技能。

## 第二版的变化

虽然命令行作为一项技术和一种工作方式是永恒的，但第一版中讨论的一些工具要么已经被更新的工具取代(例如，`csvkit`在很大程度上已经被`xsv`取代)，要么被它们的开发人员放弃(例如，`drake`，或者它们已经是次优的选择(例如，`weka`)。自 2014 年 10 月第一版出版以来，我学到了很多东西，无论是通过我自己的经历，还是来自我的读者的有用反馈。尽管这本书非常小众，因为它位于两个学科的交叉点，但数据科学界仍然保持着稳定的兴趣，我几乎每天都收到许多积极的消息就证明了这一点。通过更新第一版，我希望这本书至少能在未来五年内保持相关性。以下是我所做的一些改变的非详尽列表:

*   我尽可能把`csvkit`换成了`xsv`。`xsv`是处理 CSV 文件的一种更快的替代方式。
*   在 2.2 和 3.2 节中，我用 Docker 映像替换了 VirtualBox 映像。Docker 是一种比 VirtualBox 更快、更轻量级的运行隔离环境的方式。
*   我现在使用`pup`而不是`scrape`来处理 HTML。`scrape`是我自己创造的一个 Python 工具。`pup`速度更快，功能更多，更易于安装。
*   [第六章](chapter-6-project-management-with-make.html#chapter-6-project-management-with-make)已经从头重写。我现在用`make`而不是`drake`来做项目管理。`drake`不再维护，`make`更加成熟，非常受开发者欢迎。
*   我把`Rio`换成了`rush`。`Rio`是我自己创建的一个笨拙的 Bash 脚本。`rush`是一个 R 包，它是从命令行使用 R 的一种更加稳定和灵活的方式。
*   在第九章中，我用 Vowpal Wabbit ( `vw`)替换了 Weka 和 BigML。Weka 很旧，从命令行使用它的方式也很笨拙。BigML 是一个我不想再依赖的商业 API。Vowpal Wabbit 是一款非常成熟的机器学习工具，由 Yahoo！现在在微软。
*   第 10 章是关于将命令行集成到现有工作流的全新章节，包括 Python、R 和 Apache Spark。在第一版中，我提到过命令行可以很容易地与现有的工作流集成，但我从未深入探讨过。本章解决了这个问题。

## 如何阅读这本书

总的来说，我建议你以线性方式阅读这本书。一旦介绍了一个概念或命令行工具，我就有可能在后面的章节中用到它。例如，在第九章的[中，我大量使用了`parallel`，这在第八章](chapter-9-modeling-data.html#chapter-9-modeling-data)的[中被广泛介绍。](chapter-8-parallel-pipelines.html#chapter-8-parallel-pipelines)

数据科学是一个广泛的领域，与许多其他领域交叉，如编程、数据可视化和机器学习。因此，这本书触及了许多有趣的话题，不幸的是，这些话题无法详细讨论。在整本书中，每章的结尾都有进一步探索的建议。为了跟上这本书的内容，并不要求阅读这些材料，但是当你感兴趣的时候，你就会知道还有很多东西要学。

## 这本书是给谁的

这本书对你做了一个假设:你和数据打交道。你目前使用的是哪种编程语言或统计计算环境并不重要。这本书从一开始就解释了所有必要的概念。

不管你的操作系统是微软视窗系统，苹果操作系统，还是某种风格的 Linux 系统。这本书附带了一个 Docker 映像，这是一个易于安装的虚拟环境。它允许您在编写本书的相同环境中运行命令行工具并遵循代码示例。您不必浪费时间去弄清楚如何安装所有的命令行工具及其依赖项。

这本书包含了一些 Bash、Python 和 R 的代码，所以如果你有一些编程经验的话，它会很有帮助，但是并不要求你按照例子来做。

## 本书中使用的约定

本书使用了以下印刷惯例:

*Italic*

表示新的术语、URL、目录名和文件名。

`Constant width`

用于代码和命令，以及在段落中引用命令行工具及其选项。

**`Constant width bold`**

显示应该由用户逐字键入的命令或其他文本。

This element signifies a tip or suggestion.This element signifies a general note.This element indicates a warning or caution.

## 承认

### 第二版(2021)致谢

第一版出来已经七年了。在这段时间里，尤其是在过去的 13 个月里，许多人帮助了我。没有他们，我永远也不可能写出第二版。

我再次有幸在奥赖利拥有三位出色的编辑。我要感谢“拥抱最后期限”的莎拉·格雷，杰斯·哈伯曼和“放手”的凯特·加洛韦。他们的中间名说明了一切。在他们不可思议的帮助下，我能够拥抱最后期限，在关键时刻加大油门，最终放手。我还要感谢他们的同事安吉拉·鲁菲诺、亚瑟·约翰逊、卡珊德拉·费塔多、大卫·富塔托、海伦·门罗、凯伦·蒙哥马利、凯特·杜利亚、克里斯汀·布朗、玛丽·博古鲁、玛西·亨农、尼克·亚当斯、雷吉娜·威尔金森、香农·卡特、香农·特灵顿和雅思米娜·格列柯，感谢他们让与奥莱利的合作如此愉快。

尽管有一个自动化的过程来执行代码和粘贴回结果(感谢 R Markdown 和 Docker)，我能够犯的错误的数量是令人印象深刻的。感谢 Aaditya Maruthi、Brian Eoff、Caitlin Hudon、Julia Silge、Mike Dewar 和 Shane Reustle 极大地减少了这个数字。当然，留下的任何错误都是我的责任。

马克·卡纳莱塔值得特别感谢。2014 年 10 月，在第一版发布后不久，Marc 邀请我在巴塞罗那的 Social Point 为他的团队举办为期一天的关于命令行数据科学的研讨会。我们都不知道接下来会有很多研讨会。这最终让我创办了自己的公司:数据科学工作室。每次我教书，我都会学到新的东西。他们可能不知道，但每个学生都以这样或那样的方式对这本书产生了影响。我要对他们说:谢谢你们。我希望我能教很长一段时间。

迷人的谈话，精彩的建议，热情的拉请求。我非常感谢以下慷慨人士的每一份贡献:亚当·约翰逊、安德烈·马努克、安德烈·博鲁索、安德烈斯·洛瑞、安德鲁·贝里沙、安德鲁·加兰特、安德鲁·桑切斯、阿尼塞·埃布、安东尼·埃格尔顿、本·伊森哈特。" #、Chrys Wu、Dan Nguyen、Darryl Amatsetam、Dmitriy Rozhkov、Doug Needham、Edgar Manukyan、Erik Swan、Felienne Hermans、George Kampolis、Giel van Lankveld、Greg Wilson、Hay Kranen、Ioannis Cherouvim、Jake Hofman、Jannes Muenchow、Jared Lander、Jay Roaf、Jeffrey Perkel、Jim Hester、Joachim Hagege、Joel Grus、John Cook、John Sandall、Joost Helberg、Joost van Dijk、Joyce Nathan Furnal、Noah Chase、Oscar Chic、Paige Bailey、Peter Saalbrink、Rich Pauloo、Richard 格鲁特、Rico Huijbers、Rob Doherty、Robbert van Vlijmen、Russell Scudder、Sylvain Lapoix、TJ Lavelle、Tan Long、Thomas Stone、Tim O'Reilly、Vincent Warmerdam 和 Yihui Xie。

在整本书中，尤其是在脚注和附录中，你会发现数百个名字。这些名字属于本书所依托的许多工具、书籍和其他资源的作者。我非常感激他们的辛勤工作，不管这项工作是在 50 年前还是 50 天前完成的。

最重要的是，我要感谢我的妻子埃丝特、我的女儿弗洛里安和我的儿子奥利维尔，他们每天都提醒我什么才是真正重要的。我保证几年后我才会开始写第三版。

### 第一版(2014)致谢

首先，我要感谢 Mike Dewar 和 Mike Loukides，他们相信我在 2013 年 9 月写的博客文章[七个数据科学命令行工具](http://jeroenjanssens.com/2013/09/19/seven-command-line-tools-for-data-science.html)可以扩展成一本书。

特别感谢我的技术审查员 Mike Dewar、Brian Eoff 和 Shane Reustle 阅读了各种草稿，仔细测试了所有命令，并提供了宝贵的反馈。你的努力极大地改进了这本书。剩下的错误完全是我自己的责任。

我有幸与三位出色的编辑一起工作，他们是:安·斯潘塞、朱莉·斯蒂尔和玛丽·博古鲁。感谢您的指导，感谢您在奥赖利与许多有才华的人保持如此良好的联系。这些人包括:劳拉·鲍德温、于盖特·巴里埃、索菲娅·德马蒂尼、亚斯米娜·格列柯、雷切尔·詹姆斯、本·洛里卡、迈克·劳基德斯和克里斯托弗·帕帕斯。还有很多人我没见过，因为他们在幕后操作。他们一起确保了与奥赖利一起工作是一种真正的乐趣。

这本书讨论了 80 多种命令行工具。不用说，如果没有这些工具，这本书一开始就不会存在。因此，我非常感谢所有为这些工具做出贡献的作者。遗憾的是，完整的作者列表太长，无法在此列出；附录中提到了它们。特别感谢 Aaron Crow、Jehiah Czebotar、Christoph Groskopf、马頔·科岗、Sergey Lisitsyn、Francisco J. Martin 和 Ole 葛覃用他们出色的命令行工具提供了帮助。

埃里克·波斯特马和贾普·范·登·赫里克，他们在我攻读博士学位期间指导过我，值得特别感谢。五年来，他们教会了我很多东西。尽管写一本技术书籍和写一篇博士论文有很大的不同，但在过去的九个月里，这些课程中的许多课程也被证明是非常有用的。

最后，我要感谢我在 YPlan 的同事、我的朋友、我的家人，尤其是我的妻子 Esther，感谢他们支持我，在恰当的时候把我从命令行拉了出来。